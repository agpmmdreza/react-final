(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[11],{210:function(e,t,a){"use strict";var n=a(239),r=a(189),l=a(214),c=a(179),o=a(0),i=a(2),s=Object(c.a)((function(e){return{snack:{background:"#04c256",color:"black"},snackError:{background:"#EA2027"}}}));t.a=function(e){var t=s();return Object(i.jsx)(n.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},ContentProps:{classes:{root:e.resMessage.includes("Success")?t.snack:t.snackError}},open:e.open,autoHideDuration:3e3,onClose:e.handleClose,message:e.resMessage,action:Object(i.jsx)(o.Fragment,{children:Object(i.jsx)(r.a,{size:"small",color:"inherit",onClick:e.handleClose,children:Object(i.jsx)(l.a,{fontSize:"small"})})})})}},211:function(e,t,a){"use strict";var n=a(47),r=a(19);t.a=function(e,t){return{handleOnChange:function(a,l){Array.isArray(e)?(t((function(e){return e.map((function(e,t){return l!==t?e:Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},a.target.name,Object(r.a)(Object(r.a)({},e[a.target.name]),{},{value:a.target.value})))}))})),""!==a.target.value&&t((function(e){return e.map((function(e,t){return l!==t?e:Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},a.target.name,Object(r.a)(Object(r.a)({},e[a.target.name]),{},{error:!1,helper:""})))}))}))):(t((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},a.target.name,Object(r.a)(Object(r.a)({},e[a.target.name]),{},{value:a.target.value})))})),""!==a.target.value&&t((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},a.target.name,Object(r.a)(Object(r.a)({},e[a.target.name]),{},{error:!1,helper:""})))})))},handleValidation:function(a,l){Array.isArray(e)?(""===a.target.value&&t((function(e){return e.map((function(e,t){return l!==t?e:Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},a.target.name,Object(r.a)(Object(r.a)({},e[a.target.name]),{},{error:!0,helper:"Enter value!"})))}))})),"numerical"===e[l][a.target.name].type&&isNaN(a.target.value)&&t((function(e){return e.map((function(e,t){return l!==t?e:Object(r.a)(Object(r.a)({},e),{},{code:Object(r.a)(Object(r.a)({},e.code),{},{error:!0,helper:"Enter a Number!"})})}))}))):(""===a.target.value&&t((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},a.target.name,Object(r.a)(Object(r.a)({},e[a.target.name]),{},{error:!0,helper:"Enter a value!"})))})),"numerical"===e[a.target.name].type&&isNaN(a.target.value)&&t((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},a.target.name,Object(r.a)(Object(r.a)({},e[a.target.name]),{},{error:!0,helper:"Enter a Number!"})))})))}}}},212:function(e,t,a){"use strict";var n=a(224),r=a(16),l=a(146),c=a(194),o=a(243),i=a(247),s=a(246),d=a(242),u=a(244),j=a(254),b=a(245),h=a(241),p=a(185),O=a(204),f=a(189),m=a(257),g=a(249),x=a(248),y=a(202),v=a(187),C=a(193),w=a(192),S=a(0),N=a(223),A=a(213),k=a(221),B=a(219),F=a(215),L=a(222),T=a(220),P=a(2),U=function(e){return e.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,(function(e,t){return t.toUpperCase()}))},H=function(e,t){return t.split(".").forEach((function(t){e&&(e=e[t])})),e};t.a=function(e){var t=Object(S.useState)(""),a=Object(r.a)(t,2),E=a[0],I=a[1],D=Object(S.useState)(0),G=Object(r.a)(D,2),R=G[0],z=G[1],W=Object(S.useState)(!1),J=Object(r.a)(W,2),M=J[0],V=J[1],Y=Object(S.useState)(!1),_=Object(r.a)(Y,2),Z=_[0],q=_[1],K=Object(S.useState)(!1),Q=Object(r.a)(K,2),X=Q[0],$=Q[1];return Object(P.jsxs)(l.a,{elevation:8,style:{width:"90%",borderRadius:"1rem"},children:[Object(P.jsxs)(h.a,{style:{backgroundColor:"#ebe9f5",borderRadius:"1rem 1rem 0 0"},children:[Object(P.jsx)("p",{children:e.tableTitle}),Object(P.jsxs)("div",{style:{display:"flex",marginLeft:"auto",alignSelf:"center"},children:[e.showSearch&&Object(P.jsx)(O.a,{name:"id",value:e.fields.id.value,onChange:e.onChange,placeholder:"Get By ID",style:{alignSelf:"center"},InputProps:{startAdornment:Object(P.jsx)(f.a,{size:"small",style:{alignSelf:"center"},onClick:function(){""!==e.fields.id.value&&e.handleGetById(e.fields.id.value)},children:Object(P.jsx)(F.a,{})})}}),e.showAddByGroup&&Object(P.jsx)(f.a,{color:"primary",onClick:function(){return q(!Z)},children:Z?Object(P.jsx)(B.a,{}):Object(P.jsx)(T.a,{})}),e.showAdd&&Object(P.jsx)(f.a,{color:"primary",onClick:function(){return V(!M)},children:M?Object(P.jsx)(B.a,{}):Object(P.jsx)(k.a,{})}),e.idCalled&&Object(P.jsx)(f.a,{color:"primary",onClick:function(){return e.reloadPage(!0)},children:Object(P.jsx)(L.a,{})})]})]}),e.showAddByGroup&&Object(P.jsx)(p.a,{in:Z,children:Object(P.jsx)("form",{style:{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"center"},children:Object(P.jsx)(v.a,{variant:"outlined",style:{margin:"0 0.5rem",marginBottom:".5rem"},children:Object(P.jsx)(C.a,{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:Object(P.jsxs)(S.Fragment,{children:[e.groupFields.map((function(t,a){return Object(P.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:e.tableHead.map((function(n,r){return n.addField.includes("add")&&Object(P.jsx)("div",{children:Object(P.jsx)(O.a,{multiline:"multiline"in n,value:t[U(n.label)].value,error:t[U(n.label)].error,helperText:t[U(n.label)].helper,style:{width:"7rem",margin:"1rem"},placeholder:n.label,name:U(n.label),onBlur:function(t){return e.onBlurGroup(t,a)},onChange:function(t){return e.onChangeGroup(t,a)}},a)},r)}))},a)})),Object(P.jsx)(c.a,{variant:"contained",color:"primary",style:{marginLeft:"auto",marginRight:"1rem"},onClick:function(){e.handleAddGroup(e.groupFields)},children:"Add Group"}),Object(P.jsx)("div",{children:Object(P.jsx)(f.a,{onClick:function(){e.onSetFieldsGroup((function(t){return[].concat(Object(n.a)(t),[e.INIT_BODY])}))},children:Object(P.jsx)(k.a,{})})})]})})})})}),e.showAdd&&Object(P.jsx)(p.a,{in:M,children:Object(P.jsx)("form",{style:{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"center"},children:Object(P.jsx)(v.a,{variant:"outlined",style:{margin:".8rem 0.4rem"},children:Object(P.jsx)(C.a,{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:Object(P.jsxs)(S.Fragment,{children:[e.tableHead.map((function(t,a){return t.addField.includes("add")&&Object(P.jsx)(O.a,{multiline:"multiline"in t,value:e.fields[U(t.label)].value,error:e.fields[U(t.label)].error,helperText:e.fields[U(t.label)].helper,style:{width:"10rem",margin:"1rem"},placeholder:t.label,name:U(t.label),onBlur:e.onBlur,onChange:e.onChange},a)})),Object(P.jsx)(c.a,{variant:"contained",color:"primary",style:{marginLeft:"auto",marginRight:"1rem"},onClick:function(){e.handleAdd(e.fields)},children:"Add"})]})})})})}),Object(P.jsxs)(S.Fragment,{children:[Object(P.jsxs)(d.a,{children:[Object(P.jsx)(w.a,{style:{backgroundColor:"#c4c4c4"}}),Object(P.jsxs)(o.a,{children:[Object(P.jsx)(u.a,{style:{backgroundColor:"#ebe9f5"},children:Object(P.jsx)(b.a,{children:e.tableHead.map((function(e,t){return e.addHeader&&Object(P.jsx)(s.a,{align:e.align,children:e.label},t)}))})}),Object(P.jsx)(i.a,{children:0!==e.response.length?e.response.slice(10*R,10*R+10).map((function(t,a){return Object(P.jsxs)(S.Fragment,{children:[Object(P.jsxs)(b.a,{hover:!0,children:[e.tableHead.map((function(e,a){return e.addHeader&&"Actions"!==e.label&&Object(P.jsx)(s.a,{align:e.align,children:"Master"===e.label?H(t[U(e.secLabel)],""===e.path?"firstName":e.path+".firstName")+" "+H(t[U(e.secLabel)],""===e.path?"lastName":e.path+".lastName"):"Day"===e.label||"Bell"===e.label?H(t[U(e.label)],e.path):"Course"===e.label?e.secLabel?"".concat(H(t[U(e.secLabel)].course,"title")," (").concat(H(t[U(e.secLabel)].course,"unitsCount"),")\n                                        "):"".concat(H(t[U(e.label)],"title")," (").concat(H(t[U(e.label)],"unitsCount"),")\n                                        "):"Course Time"===e.label?"Time Table"===e.secLabel?t[U(e.secLabel)].timeTableBellList.map((function(e,t){return Object(P.jsx)(y.a,{display:"flex",children:Object(P.jsx)(y.a,{m:"auto",children:"".concat(H(e,"day.label")," (").concat(H(e,"bell.label"),")\n                                      ")})},t)})):t[U(e.secLabel)].map((function(e,t){return Object(P.jsx)(y.a,{display:"flex",children:Object(P.jsx)(y.a,{m:"auto",children:"".concat(H(e,"day.label")," (").concat(H(e,"bell.label"),")\n                                              ")})},t)})):t[U(e.label)]},a)})),e.showActions&&Object(P.jsxs)(s.a,{align:"right",children:[e.showEdit&&Object(P.jsx)(f.a,{size:"small",onClick:function(){return I(E===a?"":a)},children:a===E?Object(P.jsx)(B.a,{}):Object(P.jsx)(A.a,{style:{color:"#16a085"}})}),Object(P.jsx)(f.a,{color:"secondary",size:"small",onClick:function(){return $(!0)},children:Object(P.jsx)(N.a,{style:{color:"#e74c3c"}})}),Object(P.jsxs)(m.a,{open:X,onClose:function(){return $(!1)},transitionDuration:200,children:[Object(P.jsx)(x.a,{children:"Are you sure you want to delete?"}),Object(P.jsxs)(g.a,{children:[Object(P.jsx)(c.a,{onClick:function(){return $(!1)},color:"primary",children:"Cancel"}),Object(P.jsx)(c.a,{onClick:function(){e.handleDelete(t.id),$(!1)},color:"primary",autoFocus:!0,children:"Delete"})]})]})]})]}),e.showActions&&Object(P.jsx)(b.a,{children:Object(P.jsx)(s.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(P.jsx)(p.a,{in:a===E,timeout:"auto",unmountOnExit:!0,children:Object(P.jsx)("form",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},children:Object(P.jsx)(v.a,{variant:"outlined",style:{margin:"0.4rem 0.4rem"},children:Object(P.jsxs)(C.a,{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[e.tableHead.map((function(t,a){return t.addField.includes("update")&&Object(P.jsx)(O.a,{value:e.fields[U(t.label)].value,error:e.fields[U(t.label)].error,helperText:e.fields[U(t.label)].helper,style:{width:"10rem",margin:"1rem"},placeholder:t.label,name:U(t.label),onBlur:e.onBlur,onChange:e.onChange},a)})),Object(P.jsx)(c.a,{variant:"contained",color:"primary",style:{marginLeft:"auto",marginRight:"1rem"},onClick:function(){e.handleUpdate(t.id,e.fields)},children:"Update"})]})})})})})})]},a)})):Object(P.jsx)(b.a,{children:Object(P.jsx)(s.a,{colSpan:6,style:{textAlign:"center"},children:"There is no data to be shown!"})})})]})]}),Object(P.jsx)(j.a,{component:"div",labelRowsPerPage:"",rowsPerPageOptions:[],count:void 0!==e.pageCount&&Number(e.pageCount),rowsPerPage:10,page:e.pageNum>0&&e.pageCount<10?0:e.pageNum,onChangePage:function(e,t){z(t)}})]})]})}},255:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}a.r(t);var r,l,c=a(16),o=a(0),i=a(17),s=a(179),d=a(212),u=a(210),j=a(211),b=a(2),h=["id"],p=["id"],O=[{label:"ID",align:"left",addField:[""],addHeader:!0},{label:"First Name",align:"center",addField:["add","update"],addHeader:!0},{label:"Last Name",align:"center",addField:["add","update"],addHeader:!0},{label:"Code",align:"center",addField:["add","update"],addHeader:!0},{label:"Role",align:"center",addField:["add","update"],addHeader:!0},{label:"Password",align:"center",addField:["add","update"],addHeader:!1},{label:"Actions",align:"right",addField:[],addHeader:!0}],f=Object(s.a)((function(e){return{container:{display:"flex",minHeight:"450px",width:"auto",justifyContent:"center"},paper:{width:"90%"},table:{},inner:{width:"250px"}}})),m={id:{value:"",error:!1,helper:"",type:"numerical"},lastName:{value:"",error:!1,helper:""},firstName:{value:"",error:!1,helper:""},password:{value:"",error:!1,helper:""},code:{value:"",error:!1,helper:"",type:"numerical"},role:{value:"",error:!1,helper:""}};t.default=function(){var e=Object(o.useContext)(i.b),t=e.userRole.toLowerCase(),a=Object(o.useState)(!1),s=Object(c.a)(a,2),g=s[0],x=s[1],y=Object(o.useState)(!1),v=Object(c.a)(y,2),C=v[0],w=v[1],S=Object(o.useState)(!1),N=Object(c.a)(S,2),A=N[0],k=N[1],B=Object(o.useState)(!1),F=Object(c.a)(B,2),L=F[0],T=F[1],P=Object(o.useState)(""),U=Object(c.a)(P,2),H=U[0],E=U[1],I=Object(o.useState)(m),D=Object(c.a)(I,2),G=D[0],R=D[1],z=Object(o.useState)([m]),W=Object(c.a)(z,2),J=W[0],M=W[1],V=f(),Y=Object(j.a)(G,R),_=Y.handleOnChange,Z=Y.handleValidation,q=Object(j.a)(J,M),K=q.handleOnChange,Q=q.handleValidation;Object(o.useEffect)((function(){C?C&&A&&X():X()}),[A,G]);var X=function(){fetch("".concat(e.baseURL,"/api/Users"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)}}).then((function(e){return e.json()})).then((function(e){null!=e?(r=e.data.list,l={count:e.data.list.length,totalPages:e.data.totalPage,page:e.data.page},w(!1),w(!0),x(!1),k(!1)):console.log(e.message)}))};return Object(b.jsxs)(o.Fragment,{children:[Object(b.jsx)("div",{className:V.container,children:C&&Object(b.jsx)(d.a,{idCalled:g,reloadPage:function(e){return k(e)},response:r,pageCount:l.count,pageNum:l.page,totalPages:l.totalPages,tableHead:O,tableTitle:"Users List",showAdd:"admin"===t,showActions:"admin"===t,showEdit:!0,showSearch:!0,showAddByGroup:!0,fields:G,groupFields:J,INIT_BODY:m,handleDelete:function(t){fetch("".concat(e.baseURL,"/api/Users/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)}}).then((function(e){return e.json()})).then((function(e){"success"===e.status?(E("Successfully Deleted!"),k(!0)):E("Something Went Wrong!"),T(!0)}))},handleAdd:function(t){t.id;var a=n(t,p);Object.values(a).every((function(e){return""!==e.value}))&&fetch("".concat(e.baseURL,"/api/Users"),{method:"POST",body:JSON.stringify({lastName:t.lastName.value,firstName:t.firstName.value,password:t.password.value,code:t.code.value,role:t.role.value.toUpperCase()}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)}}).then((function(e){return e.json()})).then((function(e){"success"===e.status?(E("Successfully Added!"),k(!0)):E("Something Went Wrong!"),T(!0)}))},handleAddGroup:function(t){fetch("".concat(e.baseURL,"/api/Users/AddList"),{method:"POST",body:JSON.stringify(t.map((function(e){return{lastName:e.lastName.value,firstName:e.firstName.value,password:e.password.value,code:e.code.value,role:e.role.value.toUpperCase()}}))),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)}}).then((function(e){return e.json()})).then((function(e){"success"===e.status?(E("Successfully Added!"),M([m]),k(!0)):E("Something Went Wrong!"),T(!0)}))},handleUpdate:function(t,a){a.id;var r=n(a,h);Object.values(r).every((function(e){return""!==e.value}))&&fetch("".concat(e.baseURL,"/api/Users/").concat(t),{method:"PUT",body:JSON.stringify({firstName:a.firstName.value,lastName:a.lastName.value,password:a.password.value,role:a.role.value,code:a.code.value}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)}}).then((function(e){return e.json()})).then((function(e){"success"===e.status?(E("Successfully Updated!"),k(!0)):null===e.data?E("No match found!"):E("Something Went Wrong!"),T(!0)}))},handleGetById:function(t){fetch("".concat(e.baseURL,"/api/Users/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)}}).then((function(e){return e.json()})).then((function(e){null!=e.data?(r=[e.data],l={count:1,totalPages:1,page:1},w(!1),w(!0),x(!0)):(E("Not Found!"),T(!0))}))},onSetFields:R,onSetFieldsGroup:function(e){return M(e)},onChange:_,onBlur:Z,onChangeGroup:K,onBlurGroup:Q})}),Object(b.jsx)(u.a,{open:L,handleClose:function(){return T(!1)},resMessage:H})]})}}}]);